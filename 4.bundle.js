(window.webpackJsonp=window.webpackJsonp||[]).push([[4,9,16],{"/B/k":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("q1tI"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("17x9"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("wHSu"),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("IP2g"),_shared_components_Button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("frOc"),_shared_components_Dialog__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("C6kL"),_shared_components_MultiSelect__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("dq91"),_styles_scss__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("LnMc"),_styles_scss__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_styles_scss__WEBPACK_IMPORTED_MODULE_7__),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,_=new Array(e.length);t<e.length;t++)_[t]=e[t];return _}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var _=0;_<t.length;_++){var a=t[_];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,_){return t&&_defineProperties(e.prototype,t),_&&_defineProperties(e,_),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _defineProperty(e,t,_){return t in e?Object.defineProperty(e,t,{value:_,enumerable:!0,configurable:!0,writable:!0}):e[t]=_,e}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__("0cfB")).enterModule,enterModule&&enterModule(module);var Gallery=function(_Component){function Gallery(e){var t;return _classCallCheck(this,Gallery),_defineProperty(_assertThisInitialized(t=_possibleConstructorReturn(this,_getPrototypeOf(Gallery).call(this,e))),"showDialog",(function(){var e=t.props,_=e.loadSubjects,a=e.loadTransitions,n=e.loadTimings;_(),a(),n(),t.setState({showSettings:!0})})),_defineProperty(_assertThisInitialized(t),"hideDialog",(function(){t.setState({showSettings:!1})})),_defineProperty(_assertThisInitialized(t),"changeSettings",(function(){var e=t.props,_=e.setSubject,a=e.setTransition,n=e.setTiming,r=e.subject,o=e.clearImages,i=t.state,s=i.selectedSubject,l=i.selectedTransition,c=i.selectedTiming;t.setState({showSettings:!1}),r!==s&&o(),_(s),a(l),n(c)})),_defineProperty(_assertThisInitialized(t),"selectOption",(function(e,_){t.setState(_defineProperty({},e,_))})),t.galleryRef=react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef(),t.loadImages=null,t.state={showingImage:0,galleryImages:[],subject:"shibes",showSettings:!1},t}return _inherits(Gallery,_Component),_createClass(Gallery,[{key:"componentDidMount",value:function(){var e=this,t=this.props,_=t.getImages,a=t.getSubject,n=t.getTransition,r=t.getTiming,o=this.state.subject;a(),n(),r(),this.loadImages=setInterval((function(){_&&_(10,o).then((function(){e.rotateImage&&clearInterval(e.rotateImage),e.rotateImage=setInterval((function(){var t=e.props,_=t.images,a=t.maxImages,n=t.imageBuffer,r=e.state.showingImage;if(0!==_.length){console.log("Showing",(r+1)%_.length,"of",_.length);var o=_.filter((function(e){return e.id>=r&&e.id<=r+(n-1)}));null!==e.loadImages&&_.length>=a&&(console.log("Max images reached, stop loading more"),clearInterval(e.loadImages),e.loadImages=null),e.setState({showingImage:(r+1)%a,galleryImages:_toConsumableArray(o)})}}),5e3)}))}),2e4)}},{key:"componentWillReceiveProps",value:function(e){var t=this.state.showingImage,_=this.props,a=_.subject,n=_.transition,r=_.timing,o={};if(e.images.length<e.maxImages){var i=e.images.filter((function(_){return _.id>=t&&_.id<=t+(e.imageBuffer-1)}));o.galleryImages=_toConsumableArray(i)}e.subject!==a&&(o.selectedSubject=e.subject),e.transition!==n&&(o.selectedTransition=e.transition),e.timing!==r&&(o.selectedTiming=e.timing),this.setState(o)}},{key:"componentWillUnmount",value:function(){clearInterval(this.rotateImage),clearInterval(this.loadImages),this.rotateImage=null,this.loadImages=null}},{key:"render",value:function(){var e=this,t=this.props,_=t.subjects,a=t.transitions,n=t.timings,r=this.state,o=r.showingImage,i=r.galleryImages,s=r.showSettings,l=r.selectedSubject,c=r.selectedTransition,u=r.selectedTiming;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"widgetWrapper"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"widgetName"},"Gallery"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"gallery",ref:this.galleryRef},i.filter((function(e){return""!==e})).map((function(e){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{key:e.id,className:"galleryImage".concat(e.id===o?" active":"")},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{backgroundImage:"url(".concat(e.src,")")},alt:"Shiba Inus"}))})),0===i.length&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_2__.i,size:"2x",spin:!0}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"widgetSettings"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_shared_components_Button__WEBPACK_IMPORTED_MODULE_4__.a,{type:"icon-clear",onClick:this.showDialog,rounded:!0},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_2__.j}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_shared_components_Dialog__WEBPACK_IMPORTED_MODULE_5__.a,{mode:"confirm",show:s,title:"Gallery Settings",onConfirm:this.changeSettings,onDismiss:this.hideDialog},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_shared_components_MultiSelect__WEBPACK_IMPORTED_MODULE_6__.a,{label:"Subject",placeholder:"Choose a subject",options:_,onChange:function(t){e.selectOption("selectedSubject",t)},selected:l,searchable:!1}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_shared_components_MultiSelect__WEBPACK_IMPORTED_MODULE_6__.a,{label:"Transition",placeholder:"Choose a transition",options:a,onChange:function(t){e.selectOption("selectedTransition",t)},selected:c,searchable:!1}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_shared_components_MultiSelect__WEBPACK_IMPORTED_MODULE_6__.a,{label:"Timing",placeholder:"Choose a transition timing",options:n,onChange:function(t){e.selectOption("selectedTiming",t)},selected:u,searchable:!1}))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Gallery}(react__WEBPACK_IMPORTED_MODULE_0__.Component);Gallery.propTypes={getImages:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,images:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({id:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,src:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string})),maxImages:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,imageBuffer:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,loadSubjects:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,loadTransitions:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,loadTimings:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,setSubject:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,setTransition:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,setTiming:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,getSubject:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,getTransition:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,getTiming:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func},Gallery.defaultProps={images:[],maxImages:100,imageBuffer:3,loadSubjects:function(){},loadTransitions:function(){},loadTimings:function(){},setSubject:function(){},setTransition:function(){},setTiming:function(){},getSubject:function(){},getTransition:function(){},getTiming:function(){}};var _default=Gallery,reactHotLoader,leaveModule;__webpack_exports__.default=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__("0cfB")).default,reactHotLoader&&(reactHotLoader.register(Gallery,"Gallery","/home/travis/build/nivlaoh/kushi-dashboard/src/components/Gallery/Gallery.jsx"),reactHotLoader.register(_default,"default","/home/travis/build/nivlaoh/kushi-dashboard/src/components/Gallery/Gallery.jsx")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__("0cfB")).leaveModule,leaveModule&&leaveModule(module)}.call(this,__webpack_require__("3UD+")(module))},LnMc:function(e,t,_){var a=_("jXz6");"string"==typeof a&&(a=[[e.i,a,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};_("aET+")(a,n);a.locals&&(e.exports=a.locals)},jXz6:function(e,t,_){(e.exports=_("JPst")(!0)).push([e.i,".gallery {\n  height: inherit;\n  position: relative;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n  .gallery .galleryImage {\n    position: absolute;\n    left: 0;\n    width: 100%;\n    height: inherit;\n    opacity: 0;\n    -webkit-transition: all 0.3s ease-out;\n    -o-transition: all 0.3s ease-out;\n    transition: all 0.3s ease-out; }\n    .gallery .galleryImage.active {\n      opacity: 1;\n      top: 0; }\n    .gallery .galleryImage div {\n      width: 100%;\n      height: 100%;\n      background-size: cover;\n      border-radius: 6px; }\n","",{version:3,sources:["styles.scss"],names:[],mappings:"AAAA;EACE,eAAe;EACf,kBAAkB;EAClB,oBAAa;EAAb,oBAAa;EAAb,aAAa;EACb,wBAAuB;MAAvB,qBAAuB;UAAvB,uBAAuB;EACvB,yBAAmB;MAAnB,sBAAmB;UAAnB,mBAAmB,EAAE;EACrB;IACE,kBAAkB;IAClB,OAAO;IACP,WAAW;IACX,eAAe;IACf,UAAU;IACV,qCAA6B;IAA7B,gCAA6B;IAA7B,6BAA6B,EAAE;IAC/B;MACE,UAAU;MACV,MAAM,EAAE;IACV;MACE,WAAW;MACX,YAAY;MACZ,sBAAsB;MACtB,kBAAkB,EAAE",file:"styles.scss",sourcesContent:[".gallery {\n  height: inherit;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center; }\n  .gallery .galleryImage {\n    position: absolute;\n    left: 0;\n    width: 100%;\n    height: inherit;\n    opacity: 0;\n    transition: all 0.3s ease-out; }\n    .gallery .galleryImage.active {\n      opacity: 1;\n      top: 0; }\n    .gallery .galleryImage div {\n      width: 100%;\n      height: 100%;\n      background-size: cover;\n      border-radius: 6px; }\n"]}])},u212:function(e,t,_){"use strict";_.r(t),function(e){var a,n=_("/MKj"),r=_("Ty5D"),o=_("/B/k"),i=_("duhc");(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:_("0cfB")).enterModule)&&a(e);var s,l,c=function(e,t){return{images:e.gallery.images,subject:e.gallery.subject,transition:e.gallery.transition,timing:e.gallery.timing,subjects:e.gallery.subjects,transitions:e.gallery.transitions,timings:e.gallery.timings}},u=function(e){return{getImages:function(){return i.b.getImages()(e)},clearImages:function(){return i.b.clearImages()(e)},loadSubjects:function(){return i.b.loadSubjects()(e)},loadTransitions:function(){return i.b.loadTransitions()(e)},loadTimings:function(){return i.b.loadTimings()(e)},getSubject:function(){return i.b.getSubject()(e)},getTransition:function(){return i.b.getTransition()(e)},getTiming:function(){return i.b.getTiming()(e)},setSubject:function(t){return i.b.setSubject(t)(e)},setTransition:function(t){return i.b.setTransition(t)(e)},setTiming:function(t){return i.b.setTiming(t)(e)}}},d=Object(n.b)(c,u)(Object(r.f)(o.default)),f=d;t.default=f,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:_("0cfB")).default)&&(s.register(c,"mapStateToProps","/home/travis/build/nivlaoh/kushi-dashboard/src/components/Gallery/index.js"),s.register(u,"mapDispatchToProps","/home/travis/build/nivlaoh/kushi-dashboard/src/components/Gallery/index.js"),s.register(d,"WidgetContainer","/home/travis/build/nivlaoh/kushi-dashboard/src/components/Gallery/index.js"),s.register(f,"default","/home/travis/build/nivlaoh/kushi-dashboard/src/components/Gallery/index.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:_("0cfB")).leaveModule)&&l(e)}.call(this,_("3UD+")(e))}}]);